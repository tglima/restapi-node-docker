{
	"openapi":"3.1.0",
	"info":{
		"title":"Rest API",
		"description":"{{SWAGGER_INFO_DESCRIPTION}}",
		"version":"{{SWAGGER_INFO_VERSION}}",
		"contact":{
			"name":"API Support",
			"url":"https://github.com/tglima/restapi-node-docker"
		},
		"license":{
			"name":"MIT",
			"url":"https://raw.githubusercontent.com/tglima/restapi-node-docker/main/LICENSE"
		}
	},
	"servers":[
		{
			"url":"/v{{NU_VERSION}}",
			"description":"{{SWAGGER_SERVERS_DESCRIPTION}}"
		}
	],
	"paths":{
		"/products/find":{
			"get":{
				"tags":[
					"Product"
				],
				"summary":"Rota para obter todos os produtos disponíveis",
				"operationId":"FindAllProducts",
				"security":[
					{
						"ApiKeyAuth":""
					}
				],
				"responses":{
					"200":{
						"description":"Produtos encontrados",
						"content":{
							"application/json":{
								"schema":{
									"$ref":"#/components/schemas/ArrayProduct"
								},
								"examples":{
									"DatabaseInfo":{
										"$ref":"#/components/examples/ArrayProduct"
									}
								}
							}
						}
					},
					"400":{
						"description":"Ocorreu uma falha/erro na sua requisição. Reveja os dados enviados e tente novamente!",
						"content":{
							"application/json":{
								"schema":{
									"$ref":"#/components/schemas/DefaultResponse"
								},
								"examples":{
									"InvalidRequestResponse":{
										"$ref":"#/components/examples/InvalidRequestResponse"
									}
								}
							}
						}
					}
				}
			}
		},
		"/products/find?id={id}":{
			"get":{
				"tags":[
					"Product"
				],
				"summary":"Rota para obter o produto de acordo com o seu id",
				"operationId":"FindProductById",
				"security":[
					{
						"ApiKeyAuth":""
					}
				],
				"parameters":[
					{
						"name":"id",
						"in":"query",
						"required":true,
						"description":"Id do produto a ser pesquisado",
						"schema":{
							"type":"integer",
							"format":"int32"
						}
					}
				],
				"responses":{
					"200":{
						"description":"Produto encontrado",
						"content":{
							"application/json":{
								"schema":{
									"$ref":"#/components/schemas/Product"
								},
								"examples":{
									"DatabaseInfo":{
										"$ref":"#/components/examples/Product"
									}
								}
							}
						}
					},
					"400":{
						"description":"Ocorreu uma falha/erro na sua requisição. Reveja os dados enviados e tente novamente!",
						"content":{
							"application/json":{
								"schema":{
									"$ref":"#/components/schemas/DefaultResponse"
								},
								"examples":{
									"InvalidRequestResponse":{
										"$ref":"#/components/examples/InvalidRequestResponse"
									}
								}
							}
						}
					}
				}
			}
		}
	},
	"components":{
		"schemas":{
			"Product":{
				"type":"object",
				"properties":{
					"id_product":{
						"type":"integer"
					},
					"nm_product":{
						"type":"string"
					},
					"vl_month_price":{
						"type":"number"
					},
					"nm_videoQuality":{
						"type":"string"
					},
					"nm_resolution":{
						"type":"string"
					},
					"qt_simultaneous_screens":{
						"type":"number"
					}
				}
			},
			"ArrayProduct":{
				"type":"object",
				"properties":{
					"products":{
						"type":"array",
						"items":{
							"$ref":"#/components/schemas/Product"
						}
					}
				}
			},
			"DefaultResponse":{
				"type":"object",
				"properties":{
					"code_event":{
						"type":"string"
					},
					"messages":{
						"type":"array",
						"items":{
							"type":"string"
						}
					}
				}
			}
		},
		"examples":{
			"AuthFailedResponse":{
				"value":{
					"code_event":"b000b00a-ab00-0000-b000-bb000b000000",
					"messages":[
						"Credenciais inválidas ou ausentes"
					]
				}
			},
			"InvalidRequestResponse":{
				"value":{
					"code_event":"b000b00a-ab00-0000-b000-bb000b000000",
					"messages":[
						"Ocorreu uma falha/erro na sua requisição. Reveja os dados enviados e tente novamente!"
					]
				}
			},
			"NotFoundResponse":{
				"value":{
					"code_event":"b000b00a-ab00-0000-b000-bb000b000000",
					"messages":[
						"Item não encontrado!"
					]
				}
			},
			"ServerErrorResponse":{
				"value":{
					"code_event":"b000b00a-ab00-0000-b000-bb000b000000",
					"messages":[
						"Erro interno no servidor!"
					]
				}
			},
			"Product":{
				"value":{
					"id_product":1,
					"nm_product":"Basic",
					"vl_month_price":14.99,
					"nm_videoQuality":"Good",
					"nm_resolution":"480p",
					"qt_simultaneous_screens":1
				}
			},
			"ArrayProduct":{
				"value":{
					"products":[
						{
							"id_product":1,
							"nm_product":"Basic",
							"vl_month_price":14.99,
							"nm_videoQuality":"Good",
							"nm_resolution":"480p",
							"qt_simultaneous_screens":1
						},
						{
							"id_product":2,
							"nm_product":"Standard",
							"vl_month_price":34.99,
							"nm_videoQuality":"Better",
							"nm_resolution":"1080p",
							"qt_simultaneous_screens":2
						},
						{
							"id_product":3,
							"nm_product":"Premium",
							"vl_month_price":54.99,
							"nm_videoQuality":"Best",
							"nm_resolution":"4K+HDR",
							"qt_simultaneous_screens":4
						}
					]
				}
			}
		},
		"securitySchemes":{
			"ApiKeyAuth":{
				"type":"apiKey",
				"in":"header",
				"name":"API-KEY"
			}
		}
	}
}
